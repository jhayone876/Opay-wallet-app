<script>
  let showBalance = true;
  let currentBalance = 203000;

  function toggleBalance() {
    const bal = document.getElementById("balance");
    showBalance = !showBalance;
    bal.innerText = showBalance ? `₦${format(currentBalance)}` : "••••••••";
  }

  function toggleMode() {
    const b = document.body;
    if (b.style.backgroundColor === "white") {
      b.style.backgroundColor = "#111";
      b.style.color = "#eee";
    } else {
      b.style.backgroundColor = "white";
      b.style.color = "black";
    }
  }

  function openSend() {
    document.getElementById("sendForm").style.display = "block";
  }

  function closeSend() {
    document.getElementById("sendForm").style.display = "none";
  }

  function submitSend() {
    const name = document.getElementById("name").value.trim();
    const acct = document.getElementById("acct").value.trim();
    const amt = parseFloat(document.getElementById("amount").value.trim());

    if (!name || !acct || isNaN(amt) || amt <= 0) {
      alert("Please fill all fields with valid values.");
      return;
    }

    if (amt > currentBalance) {
      alert("❌ Insufficient funds to complete this transfer.");
      return;
    }

    // Deduct balance
    currentBalance -= amt;
    document.getElementById("balance").innerText = showBalance ? `₦${format(currentBalance)}` : "••••••••";

    // Show fake confirmation
    alert(`✅ ₦${format(amt)} sent to ${name} (${acct})`);

    // Clear form
    document.getElementById("name").value = "";
    document.getElementById("acct").value = "";
    document.getElementById("amount").value = "";

    closeSend();
  }

  function format(num) {
    return num.toLocaleString('en-NG', { minimumFractionDigits: 2 });
  }

  // Fake Transactions
  const names = ["Uche", "Bola", "Ngozi", "Musa", "Aisha", "Daniel", "Opeyemi", "Chinedu", "Tosin", "Favour"];
  function randName() {
    return names[Math.floor(Math.random() * names.length)];
  }
  function randAmount() {
    return (Math.random() * 20000 + 1000).toFixed(2);
  }

  let txHtml = "";
  for (let i = 0; i < 200; i++) {
    const name = randName();
    const amount = randAmount();
    const date = `Jul ${Math.floor(Math.random() * 10) + 1}, 2025`;
    txHtml += `<div class="tx">
      <span><strong>Transfer From:</strong> ${name}</span>
      <span>${date}</span>
      <span>+₦${amount} ✅ Confirmed</span>
    </div>`;
  }
  document.getElementById("txList").innerHTML = txHtml;
</script>
